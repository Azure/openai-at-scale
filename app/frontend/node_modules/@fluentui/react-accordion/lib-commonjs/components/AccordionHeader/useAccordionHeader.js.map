{"version":3,"sources":["../../../lib/components/AccordionHeader/useAccordionHeader.js"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useEventCallback } from '@fluentui/react-utilities';\nimport { useAccordionItemContext_unstable } from '../AccordionItem/index';\nimport { useARIAButtonShorthand } from '@fluentui/react-aria';\nimport { useAccordionContext_unstable } from '../Accordion/AccordionContext';\nimport { ChevronRightRegular } from '@fluentui/react-icons';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\n/**\n * Returns the props and state required to render the component\n * @param props - AccordionHeader properties\n * @param ref - reference to root HTMLElement of AccordionHeader\n */\nexport const useAccordionHeader_unstable = (props, ref) => {\n  const {\n    as,\n    icon,\n    button,\n    expandIcon,\n    inline = false,\n    size = 'medium',\n    expandIconPosition = 'start'\n  } = props;\n  const {\n    onHeaderClick: onAccordionHeaderClick,\n    disabled,\n    open\n  } = useAccordionItemContext_unstable();\n  /**\n  * force disabled state on button if accordion isn't collapsible\n  * and this is the only item opened\n  */\n  const disabledFocusable = useAccordionContext_unstable(ctx => !ctx.collapsible && ctx.openItems.length === 1 && open);\n  const {\n    dir\n  } = useFluent();\n  // Calculate how to rotate the expand icon [>] (ChevronRightRegular)\n  let expandIconRotation;\n  if (expandIconPosition === 'end') {\n    // If expand icon is at the end, the chevron points up [^] when open, and down [v] when closed\n    expandIconRotation = open ? -90 : 90;\n  } else {\n    // Otherwise, the chevron points down [v] when open, and right [>] (or left [<] in RTL) when closed\n    expandIconRotation = open ? 90 : dir !== 'rtl' ? 0 : 180;\n  }\n  const buttonShorthand = useARIAButtonShorthand(button, {\n    required: true,\n    defaultProps: {\n      disabled,\n      disabledFocusable,\n      'aria-expanded': open,\n      type: 'button'\n    }\n  });\n  return {\n    disabled,\n    open,\n    size,\n    inline,\n    expandIconPosition,\n    components: {\n      root: 'div',\n      button: 'button',\n      expandIcon: 'span',\n      icon: 'div'\n    },\n    root: getNativeElementProps(as || 'div', {\n      ref,\n      ...props\n    }),\n    icon: resolveShorthand(icon),\n    expandIcon: resolveShorthand(expandIcon, {\n      required: true,\n      defaultProps: {\n        children: /*#__PURE__*/React.createElement(ChevronRightRegular, {\n          style: {\n            transform: `rotate(${expandIconRotation}deg)`\n          }\n        }),\n        'aria-hidden': true\n      }\n    }),\n    button: {\n      ...buttonShorthand,\n      onClick: useEventCallback(ev => {\n        var _buttonShorthand_onClick;\n        (_buttonShorthand_onClick = buttonShorthand.onClick) === null || _buttonShorthand_onClick === void 0 ? void 0 : _buttonShorthand_onClick.call(buttonShorthand, ev);\n        if (!ev.defaultPrevented) {\n          onAccordionHeaderClick(ev);\n        }\n      })\n    }\n  };\n};\n//# sourceMappingURL=useAccordionHeader.js.map"],"names":["useAccordionHeader_unstable","props","ref","as","icon","button","expandIcon","inline","size","expandIconPosition","onHeaderClick","onAccordionHeaderClick","disabled","open","useAccordionItemContext_unstable","disabledFocusable","useAccordionContext_unstable","ctx","collapsible","openItems","length","dir","useFluent","expandIconRotation","buttonShorthand","useARIAButtonShorthand","required","defaultProps","type","components","root","getNativeElementProps","resolveShorthand","children","React","createElement","ChevronRightRegular","style","transform","onClick","useEventCallback","ev","_buttonShorthand_onClick","call","defaultPrevented"],"mappings":";;;;+BAYaA;;aAAAA;;;6DAZU;gCACmD;uBACzB;2BACV;kCACM;4BACT;qCACY;AAMzC,MAAMA,8BAA8B,CAACC,OAAOC,MAAQ;IACzD,MAAM,EACJC,GAAE,EACFC,KAAI,EACJC,OAAM,EACNC,WAAU,EACVC,QAAS,KAAK,CAAA,EACdC,MAAO,SAAQ,EACfC,oBAAqB,QAAO,EAC7B,GAAGR;IACJ,MAAM,EACJS,eAAeC,uBAAsB,EACrCC,SAAQ,EACRC,KAAI,EACL,GAAGC,IAAAA,uCAAgC;IACpC;;;EAGA,GACA,MAAMC,oBAAoBC,IAAAA,8CAA4B,EAACC,CAAAA,MAAO,CAACA,IAAIC,WAAW,IAAID,IAAIE,SAAS,CAACC,MAAM,KAAK,KAAKP;IAChH,MAAM,EACJQ,IAAG,EACJ,GAAGC,IAAAA,uCAAS;IACb,oEAAoE;IACpE,IAAIC;IACJ,IAAId,uBAAuB,OAAO;QAChC,8FAA8F;QAC9Fc,qBAAqBV,OAAO,CAAC,KAAK,EAAE;IACtC,OAAO;QACL,mGAAmG;QACnGU,qBAAqBV,OAAO,KAAKQ,QAAQ,QAAQ,IAAI,GAAG;IAC1D,CAAC;IACD,MAAMG,kBAAkBC,IAAAA,iCAAsB,EAACpB,QAAQ;QACrDqB,UAAU,IAAI;QACdC,cAAc;YACZf;YACAG;YACA,iBAAiBF;YACjBe,MAAM;QACR;IACF;IACA,OAAO;QACLhB;QACAC;QACAL;QACAD;QACAE;QACAoB,YAAY;YACVC,MAAM;YACNzB,QAAQ;YACRC,YAAY;YACZF,MAAM;QACR;QACA0B,MAAMC,IAAAA,qCAAqB,EAAC5B,MAAM,OAAO;YACvCD;YACA,GAAGD,KAAK;QACV;QACAG,MAAM4B,IAAAA,gCAAgB,EAAC5B;QACvBE,YAAY0B,IAAAA,gCAAgB,EAAC1B,YAAY;YACvCoB,UAAU,IAAI;YACdC,cAAc;gBACZM,UAAU,WAAW,GAAEC,OAAMC,aAAa,CAACC,+BAAmB,EAAE;oBAC9DC,OAAO;wBACLC,WAAW,CAAC,OAAO,EAAEf,mBAAmB,IAAI,CAAC;oBAC/C;gBACF;gBACA,eAAe,IAAI;YACrB;QACF;QACAlB,QAAQ;YACN,GAAGmB,eAAe;YAClBe,SAASC,IAAAA,gCAAgB,EAACC,CAAAA,KAAM;gBAC9B,IAAIC;gBACHA,CAAAA,2BAA2BlB,gBAAgBe,OAAO,AAAD,MAAO,IAAI,IAAIG,6BAA6B,KAAK,IAAI,KAAK,IAAIA,yBAAyBC,IAAI,CAACnB,iBAAiBiB,GAAG;gBAClK,IAAI,CAACA,GAAGG,gBAAgB,EAAE;oBACxBjC,uBAAuB8B;gBACzB,CAAC;YACH;QACF;IACF;AACF,GACA,8CAA8C"}