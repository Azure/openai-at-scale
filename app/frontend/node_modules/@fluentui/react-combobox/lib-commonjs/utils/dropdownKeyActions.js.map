{"version":3,"sources":["../../lib/utils/dropdownKeyActions.js"],"sourcesContent":["import * as keys from '@fluentui/keyboard-keys';\nimport * as React from 'react';\n/**\n * Converts a keyboard interaction into a defined action\n */\nexport function getDropdownActionFromKey(e, options = {}) {\n  const {\n    open = true,\n    multiselect = false\n  } = options;\n  const code = e.key;\n  const {\n    altKey,\n    ctrlKey,\n    key,\n    metaKey\n  } = e;\n  // typing action occurs whether open or closed\n  if (key.length === 1 && code !== keys.Space && !altKey && !ctrlKey && !metaKey) {\n    return 'Type';\n  }\n  // handle opening the dropdown if closed\n  if (!open) {\n    if (code === keys.ArrowDown || code === keys.ArrowUp || code === keys.Enter || code === keys.Space) {\n      return 'Open';\n    }\n    // if the dropdown is closed and an action did not match the above, do nothing\n    return 'None';\n  }\n  // select or close actions\n  if (code === keys.ArrowUp && altKey || code === keys.Enter || !multiselect && code === keys.Space) {\n    return 'CloseSelect';\n  }\n  if (multiselect && code === keys.Space) {\n    return 'Select';\n  }\n  if (code === keys.Escape) {\n    return 'Close';\n  }\n  // navigation interactions\n  if (code === keys.ArrowDown) {\n    return 'Next';\n  }\n  if (code === keys.ArrowUp) {\n    return 'Previous';\n  }\n  if (code === keys.Home) {\n    return 'First';\n  }\n  if (code === keys.End) {\n    return 'Last';\n  }\n  if (code === keys.PageUp) {\n    return 'PageUp';\n  }\n  if (code === keys.PageDown) {\n    return 'PageDown';\n  }\n  if (code === keys.Tab) {\n    return 'Tab';\n  }\n  // if nothing matched, return none\n  return 'None';\n}\n/**\n * Returns the requested option index from an action\n */\nexport function getIndexFromAction(action, currentIndex, maxIndex) {\n  switch (action) {\n    case 'Next':\n      return Math.min(maxIndex, currentIndex + 1);\n      break;\n    case 'Previous':\n      return Math.max(0, currentIndex - 1);\n    case 'First':\n      return 0;\n    case 'Last':\n      return maxIndex;\n    case 'PageDown':\n      return Math.min(maxIndex, currentIndex + 10);\n    case 'PageUp':\n      return Math.max(0, currentIndex - 10);\n    default:\n      return currentIndex;\n  }\n}\n//# sourceMappingURL=dropdownKeyActions.js.map"],"names":["getDropdownActionFromKey","getIndexFromAction","e","options","open","multiselect","code","key","altKey","ctrlKey","metaKey","length","keys","Space","ArrowDown","ArrowUp","Enter","Escape","Home","End","PageUp","PageDown","Tab","action","currentIndex","maxIndex","Math","min","max"],"mappings":";;;;;;;;;;;IAKgBA,wBAAwB,MAAxBA;IA8DAC,kBAAkB,MAAlBA;;;oEAnEM;6DACC;AAIhB,SAASD,yBAAyBE,CAAC,EAAEC,UAAU,CAAC,CAAC,EAAE;IACxD,MAAM,EACJC,MAAO,IAAI,CAAA,EACXC,aAAc,KAAK,CAAA,EACpB,GAAGF;IACJ,MAAMG,OAAOJ,EAAEK,GAAG;IAClB,MAAM,EACJC,OAAM,EACNC,QAAO,EACPF,IAAG,EACHG,QAAO,EACR,GAAGR;IACJ,8CAA8C;IAC9C,IAAIK,IAAII,MAAM,KAAK,KAAKL,SAASM,cAAKC,KAAK,IAAI,CAACL,UAAU,CAACC,WAAW,CAACC,SAAS;QAC9E,OAAO;IACT,CAAC;IACD,wCAAwC;IACxC,IAAI,CAACN,MAAM;QACT,IAAIE,SAASM,cAAKE,SAAS,IAAIR,SAASM,cAAKG,OAAO,IAAIT,SAASM,cAAKI,KAAK,IAAIV,SAASM,cAAKC,KAAK,EAAE;YAClG,OAAO;QACT,CAAC;QACD,8EAA8E;QAC9E,OAAO;IACT,CAAC;IACD,0BAA0B;IAC1B,IAAIP,SAASM,cAAKG,OAAO,IAAIP,UAAUF,SAASM,cAAKI,KAAK,IAAI,CAACX,eAAeC,SAASM,cAAKC,KAAK,EAAE;QACjG,OAAO;IACT,CAAC;IACD,IAAIR,eAAeC,SAASM,cAAKC,KAAK,EAAE;QACtC,OAAO;IACT,CAAC;IACD,IAAIP,SAASM,cAAKK,MAAM,EAAE;QACxB,OAAO;IACT,CAAC;IACD,0BAA0B;IAC1B,IAAIX,SAASM,cAAKE,SAAS,EAAE;QAC3B,OAAO;IACT,CAAC;IACD,IAAIR,SAASM,cAAKG,OAAO,EAAE;QACzB,OAAO;IACT,CAAC;IACD,IAAIT,SAASM,cAAKM,IAAI,EAAE;QACtB,OAAO;IACT,CAAC;IACD,IAAIZ,SAASM,cAAKO,GAAG,EAAE;QACrB,OAAO;IACT,CAAC;IACD,IAAIb,SAASM,cAAKQ,MAAM,EAAE;QACxB,OAAO;IACT,CAAC;IACD,IAAId,SAASM,cAAKS,QAAQ,EAAE;QAC1B,OAAO;IACT,CAAC;IACD,IAAIf,SAASM,cAAKU,GAAG,EAAE;QACrB,OAAO;IACT,CAAC;IACD,kCAAkC;IAClC,OAAO;AACT;AAIO,SAASrB,mBAAmBsB,MAAM,EAAEC,YAAY,EAAEC,QAAQ,EAAE;IACjE,OAAQF;QACN,KAAK;YACH,OAAOG,KAAKC,GAAG,CAACF,UAAUD,eAAe;YACzC,KAAM;QACR,KAAK;YACH,OAAOE,KAAKE,GAAG,CAAC,GAAGJ,eAAe;QACpC,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAOC;QACT,KAAK;YACH,OAAOC,KAAKC,GAAG,CAACF,UAAUD,eAAe;QAC3C,KAAK;YACH,OAAOE,KAAKE,GAAG,CAAC,GAAGJ,eAAe;QACpC;YACE,OAAOA;IACX;AACF,EACA,8CAA8C"}