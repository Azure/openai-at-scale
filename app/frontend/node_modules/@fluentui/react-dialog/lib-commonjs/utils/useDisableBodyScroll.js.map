{"version":3,"sources":["../../lib/utils/useDisableBodyScroll.js"],"sourcesContent":["var _element, _disableScrollElementProp;\nimport { useFluent_unstable } from '@fluentui/react-shared-contexts';\nimport { useCallback } from 'react';\nconst disableScrollElementProp = '__fluentDisableScrollElement';\n/**\n * hook that disables body scrolling through `overflow: hidden` CSS property\n */\nexport function useDisableBodyScroll() {\n  const {\n    targetDocument\n  } = useFluent_unstable();\n  return useCallback(() => {\n    if (targetDocument) {\n      return disableScroll(targetDocument.body);\n    }\n  }, [targetDocument]);\n}\n/**\n * disables scrolling from a given element through `overflow: hidden` CSS property\n * @param target - element to disable scrolling from\n * @returns a method for enabling scrolling again\n */\nexport function disableScroll(target) {\n  var _target_ownerDocument_defaultView;\n  const {\n    clientWidth\n  } = target.ownerDocument.documentElement;\n  var _target_ownerDocument_defaultView_innerWidth;\n  const innerWidth = (_target_ownerDocument_defaultView_innerWidth = (_target_ownerDocument_defaultView = target.ownerDocument.defaultView) === null || _target_ownerDocument_defaultView === void 0 ? void 0 : _target_ownerDocument_defaultView.innerWidth) !== null && _target_ownerDocument_defaultView_innerWidth !== void 0 ? _target_ownerDocument_defaultView_innerWidth : 0;\n  assertIsDisableScrollElement(target);\n  if (target[disableScrollElementProp].count === 0) {\n    target.style.overflow = 'hidden';\n    target.style.paddingRight = `${innerWidth - clientWidth}px`;\n  }\n  target[disableScrollElementProp].count++;\n  return () => {\n    target[disableScrollElementProp].count--;\n    if (target[disableScrollElementProp].count === 0) {\n      target.style.overflow = target[disableScrollElementProp].previousOverflowStyle;\n      target.style.paddingRight = target[disableScrollElementProp].previousPaddingRightStyle;\n    }\n  };\n}\nfunction assertIsDisableScrollElement(element) {\n  var _;\n  (_ = (_element = element)[_disableScrollElementProp = disableScrollElementProp]) !== null && _ !== void 0 ? _ : _element[_disableScrollElementProp] = {\n    count: 0,\n    previousOverflowStyle: element.style.overflow,\n    previousPaddingRightStyle: element.style.paddingRight\n  };\n}\n//# sourceMappingURL=useDisableBodyScroll.js.map"],"names":["useDisableBodyScroll","disableScroll","_element","_disableScrollElementProp","disableScrollElementProp","targetDocument","useFluent_unstable","useCallback","body","target","_target_ownerDocument_defaultView","clientWidth","ownerDocument","documentElement","_target_ownerDocument_defaultView_innerWidth","innerWidth","defaultView","assertIsDisableScrollElement","count","style","overflow","paddingRight","previousOverflowStyle","previousPaddingRightStyle","element","_"],"mappings":";;;;;;;;;;;IAOgBA,oBAAoB,MAApBA;IAeAC,aAAa,MAAbA;;qCArBmB;uBACP;AAF5B,IAAIC,UAAUC;AAGd,MAAMC,2BAA2B;AAI1B,SAASJ,uBAAuB;IACrC,MAAM,EACJK,eAAc,EACf,GAAGC,IAAAA,uCAAkB;IACtB,OAAOC,IAAAA,kBAAW,EAAC,IAAM;QACvB,IAAIF,gBAAgB;YAClB,OAAOJ,cAAcI,eAAeG,IAAI;QAC1C,CAAC;IACH,GAAG;QAACH;KAAe;AACrB;AAMO,SAASJ,cAAcQ,MAAM,EAAE;IACpC,IAAIC;IACJ,MAAM,EACJC,YAAW,EACZ,GAAGF,OAAOG,aAAa,CAACC,eAAe;IACxC,IAAIC;IACJ,MAAMC,aAAa,AAACD,CAAAA,+CAA+C,AAACJ,CAAAA,oCAAoCD,OAAOG,aAAa,CAACI,WAAW,AAAD,MAAO,IAAI,IAAIN,sCAAsC,KAAK,IAAI,KAAK,IAAIA,kCAAkCK,UAAU,AAAD,MAAO,IAAI,IAAID,iDAAiD,KAAK,IAAIA,+CAA+C,CAAC;IAClXG,6BAA6BR;IAC7B,IAAIA,MAAM,CAACL,yBAAyB,CAACc,KAAK,KAAK,GAAG;QAChDT,OAAOU,KAAK,CAACC,QAAQ,GAAG;QACxBX,OAAOU,KAAK,CAACE,YAAY,GAAG,CAAC,EAAEN,aAAaJ,YAAY,EAAE,CAAC;IAC7D,CAAC;IACDF,MAAM,CAACL,yBAAyB,CAACc,KAAK;IACtC,OAAO,IAAM;QACXT,MAAM,CAACL,yBAAyB,CAACc,KAAK;QACtC,IAAIT,MAAM,CAACL,yBAAyB,CAACc,KAAK,KAAK,GAAG;YAChDT,OAAOU,KAAK,CAACC,QAAQ,GAAGX,MAAM,CAACL,yBAAyB,CAACkB,qBAAqB;YAC9Eb,OAAOU,KAAK,CAACE,YAAY,GAAGZ,MAAM,CAACL,yBAAyB,CAACmB,yBAAyB;QACxF,CAAC;IACH;AACF;AACA,SAASN,6BAA6BO,OAAO,EAAE;IAC7C,IAAIC;IACHA,CAAAA,IAAI,AAACvB,CAAAA,WAAWsB,OAAM,CAAE,CAACrB,4BAA4BC,yBAAyB,AAAD,MAAO,IAAI,IAAIqB,MAAM,KAAK,IAAIA,IAAIvB,QAAQ,CAACC,0BAA0B,GAAG;QACpJe,OAAO;QACPI,uBAAuBE,QAAQL,KAAK,CAACC,QAAQ;QAC7CG,2BAA2BC,QAAQL,KAAK,CAACE,YAAY;IACvD,CAAC;AACH,EACA,gDAAgD"}