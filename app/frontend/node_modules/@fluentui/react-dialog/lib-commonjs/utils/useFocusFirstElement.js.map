{"version":3,"sources":["../../lib/utils/useFocusFirstElement.js"],"sourcesContent":["import * as React from 'react';\nimport { useFocusFinders } from '@fluentui/react-tabster';\nimport { useFluent_unstable } from '@fluentui/react-shared-contexts';\n/**\n * Focus first element on content when dialog is opened,\n */\nexport function useFocusFirstElement(open, modalType) {\n  const {\n    findFirstFocusable\n  } = useFocusFinders();\n  const {\n    targetDocument\n  } = useFluent_unstable();\n  const dialogRef = React.useRef(null);\n  const triggerRef = React.useRef();\n  React.useEffect(() => {\n    if (!open) {\n      var _triggerRef_current;\n      return (_triggerRef_current = triggerRef.current) === null || _triggerRef_current === void 0 ? void 0 : _triggerRef_current.focus();\n    }\n    triggerRef.current = targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.activeElement;\n    const element = dialogRef.current && findFirstFocusable(dialogRef.current);\n    if (element) {\n      element.focus();\n    } else {\n      var _dialogRef_current;\n      (_dialogRef_current = dialogRef.current) === null || _dialogRef_current === void 0 ? void 0 : _dialogRef_current.focus(); // https://github.com/microsoft/fluentui/issues/25150\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.warn(['@fluentui/react-dialog: a Dialog should have at least one focusable element inside DialogSurface.', 'Please add at least a close button either on `DialogTitle` action slot or inside `DialogActions`'].join('\\n'));\n      }\n    }\n  }, [findFirstFocusable, open, modalType, targetDocument]);\n  return dialogRef;\n}\n//# sourceMappingURL=useFocusFirstElement.js.map"],"names":["useFocusFirstElement","open","modalType","findFirstFocusable","useFocusFinders","targetDocument","useFluent_unstable","dialogRef","React","useRef","triggerRef","useEffect","_triggerRef_current","current","focus","activeElement","element","_dialogRef_current","process","env","NODE_ENV","console","warn","join"],"mappings":";;;;+BAMgBA;;aAAAA;;;6DANO;8BACS;qCACG;AAI5B,SAASA,qBAAqBC,IAAI,EAAEC,SAAS,EAAE;IACpD,MAAM,EACJC,mBAAkB,EACnB,GAAGC,IAAAA,6BAAe;IACnB,MAAM,EACJC,eAAc,EACf,GAAGC,IAAAA,uCAAkB;IACtB,MAAMC,YAAYC,OAAMC,MAAM,CAAC,IAAI;IACnC,MAAMC,aAAaF,OAAMC,MAAM;IAC/BD,OAAMG,SAAS,CAAC,IAAM;QACpB,IAAI,CAACV,MAAM;YACT,IAAIW;YACJ,OAAO,AAACA,CAAAA,sBAAsBF,WAAWG,OAAO,AAAD,MAAO,IAAI,IAAID,wBAAwB,KAAK,IAAI,KAAK,IAAIA,oBAAoBE,KAAK,EAAE;QACrI,CAAC;QACDJ,WAAWG,OAAO,GAAGR,mBAAmB,IAAI,IAAIA,mBAAmB,KAAK,IAAI,KAAK,IAAIA,eAAeU,aAAa;QACjH,MAAMC,UAAUT,UAAUM,OAAO,IAAIV,mBAAmBI,UAAUM,OAAO;QACzE,IAAIG,SAAS;YACXA,QAAQF,KAAK;QACf,OAAO;YACL,IAAIG;YACHA,CAAAA,qBAAqBV,UAAUM,OAAO,AAAD,MAAO,IAAI,IAAII,uBAAuB,KAAK,IAAI,KAAK,IAAIA,mBAAmBH,KAAK,EAAE,EAAE,qDAAqD;YAC/K,IAAII,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;gBACzC,sCAAsC;gBACtCC,QAAQC,IAAI,CAAC;oBAAC;oBAAqG;iBAAmG,CAACC,IAAI,CAAC;YAC9N,CAAC;QACH,CAAC;IACH,GAAG;QAACpB;QAAoBF;QAAMC;QAAWG;KAAe;IACxD,OAAOE;AACT,EACA,gDAAgD"}