{"version":3,"sources":["../../lib/components/Overflow.js"],"sourcesContent":["import * as React from 'react';\nimport { __styles, mergeClasses } from '@griffel/react';\nimport { applyTriggerPropsToChildren, useMergedRefs } from '@fluentui/react-utilities';\nimport { OverflowContext } from '../overflowContext';\nimport { updateVisibilityAttribute, useOverflowContainer } from '../useOverflowContainer';\nimport { DATA_OVERFLOWING, DATA_OVERFLOW_MENU } from '../constants';\nconst useStyles = /*#__PURE__*/__styles({\n  overflowMenu: {\n    Brvla84: \"fyfkpbf\"\n  },\n  overflowingItems: {\n    Hevnzl: \"ftz08xh\"\n  }\n}, {\n  d: [\".fyfkpbf [data-overflow-menu]{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}\", \".ftz08xh>[data-overflowing]{display:none;}\"]\n});\n/**\n * Provides an OverflowContext for OverflowItem descendants.\n */\nexport const Overflow = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const styles = useStyles();\n  const {\n    children,\n    minimumVisible,\n    overflowAxis = 'horizontal',\n    overflowDirection,\n    padding\n  } = props;\n  const [hasOverflow, setHasOverflow] = React.useState(false);\n  const [itemVisibility, setItemVisibility] = React.useState({});\n  const [groupVisibility, setGroupVisibility] = React.useState({});\n  // useOverflowContainer wraps this method in a useEventCallback.\n  // TODO: Do we need a useEventCallback here too?\n  const update = data => {\n    setHasOverflow(() => data.invisibleItems.length > 0);\n    setItemVisibility(() => {\n      const newState = {};\n      data.visibleItems.forEach(x => newState[x.id] = true);\n      data.invisibleItems.forEach(x => newState[x.id] = false);\n      return newState;\n    });\n    setGroupVisibility(data.groupVisibility);\n  };\n  const {\n    containerRef,\n    registerItem,\n    updateOverflow,\n    registerOverflowMenu\n  } = useOverflowContainer(update, {\n    overflowDirection,\n    overflowAxis,\n    padding,\n    minimumVisible,\n    onUpdateItemVisibility: updateVisibilityAttribute\n  });\n  const clonedChild = applyTriggerPropsToChildren(children, {\n    ref: useMergedRefs(containerRef, ref),\n    className: mergeClasses(styles.overflowMenu, styles.overflowingItems, children.props.className)\n  });\n  return /*#__PURE__*/React.createElement(OverflowContext.Provider, {\n    value: {\n      itemVisibility,\n      groupVisibility,\n      hasOverflow,\n      registerItem,\n      updateOverflow,\n      registerOverflowMenu\n    }\n  }, clonedChild);\n});\n//# sourceMappingURL=Overflow.js.map"],"names":["Overflow","useStyles","__styles","overflowMenu","Brvla84","overflowingItems","Hevnzl","d","React","forwardRef","props","ref","styles","children","minimumVisible","overflowAxis","overflowDirection","padding","hasOverflow","setHasOverflow","useState","itemVisibility","setItemVisibility","groupVisibility","setGroupVisibility","update","data","invisibleItems","length","newState","visibleItems","forEach","x","id","containerRef","registerItem","updateOverflow","registerOverflowMenu","useOverflowContainer","onUpdateItemVisibility","updateVisibilityAttribute","clonedChild","applyTriggerPropsToChildren","useMergedRefs","className","mergeClasses","createElement","OverflowContext","Provider","value"],"mappings":";;;;+BAmBaA;;aAAAA;;;6DAnBU;wBACgB;gCACoB;iCAC3B;sCACgC;AAEhE,MAAMC,YAAY,WAAW,GAAEC,IAAAA,mBAAQ,EAAC;IACtCC,cAAc;QACZC,SAAS;IACX;IACAC,kBAAkB;QAChBC,QAAQ;IACV;AACF,GAAG;IACDC,GAAG;QAAC;QAA2F;KAA6C;AAC9I;AAIO,MAAMP,WAAW,WAAW,GAAEQ,OAAMC,UAAU,CAAC,CAACC,OAAOC,MAAQ;IACpE,MAAMC,SAASX;IACf,MAAM,EACJY,SAAQ,EACRC,eAAc,EACdC,cAAe,aAAY,EAC3BC,kBAAiB,EACjBC,QAAO,EACR,GAAGP;IACJ,MAAM,CAACQ,aAAaC,eAAe,GAAGX,OAAMY,QAAQ,CAAC,KAAK;IAC1D,MAAM,CAACC,gBAAgBC,kBAAkB,GAAGd,OAAMY,QAAQ,CAAC,CAAC;IAC5D,MAAM,CAACG,iBAAiBC,mBAAmB,GAAGhB,OAAMY,QAAQ,CAAC,CAAC;IAC9D,gEAAgE;IAChE,gDAAgD;IAChD,MAAMK,SAASC,CAAAA,OAAQ;QACrBP,eAAe,IAAMO,KAAKC,cAAc,CAACC,MAAM,GAAG;QAClDN,kBAAkB,IAAM;YACtB,MAAMO,WAAW,CAAC;YAClBH,KAAKI,YAAY,CAACC,OAAO,CAACC,CAAAA,IAAKH,QAAQ,CAACG,EAAEC,EAAE,CAAC,GAAG,IAAI;YACpDP,KAAKC,cAAc,CAACI,OAAO,CAACC,CAAAA,IAAKH,QAAQ,CAACG,EAAEC,EAAE,CAAC,GAAG,KAAK;YACvD,OAAOJ;QACT;QACAL,mBAAmBE,KAAKH,eAAe;IACzC;IACA,MAAM,EACJW,aAAY,EACZC,aAAY,EACZC,eAAc,EACdC,qBAAoB,EACrB,GAAGC,IAAAA,0CAAoB,EAACb,QAAQ;QAC/BT;QACAD;QACAE;QACAH;QACAyB,wBAAwBC,+CAAyB;IACnD;IACA,MAAMC,cAAcC,IAAAA,2CAA2B,EAAC7B,UAAU;QACxDF,KAAKgC,IAAAA,6BAAa,EAACT,cAAcvB;QACjCiC,WAAWC,IAAAA,oBAAY,EAACjC,OAAOT,YAAY,EAAES,OAAOP,gBAAgB,EAAEQ,SAASH,KAAK,CAACkC,SAAS;IAChG;IACA,OAAO,WAAW,GAAEpC,OAAMsC,aAAa,CAACC,gCAAe,CAACC,QAAQ,EAAE;QAChEC,OAAO;YACL5B;YACAE;YACAL;YACAiB;YACAC;YACAC;QACF;IACF,GAAGI;AACL,IACA,oCAAoC"}