{"version":3,"sources":["../../lib/hooks/selectionManager.js"],"sourcesContent":["import * as React from 'react';\nexport function createSelectionManager(mode, onSelectionChange = () => undefined) {\n  const managerFactory = mode === 'multiselect' ? createMultipleSelectionManager : createSingleSelectionManager;\n  return managerFactory(onSelectionChange);\n}\nfunction createMultipleSelectionManager(onSelectionChange) {\n  const toggleAllItems = (e, itemIds, selectedItems) => {\n    const allItemsSelected = itemIds.every(itemId => selectedItems.has(itemId));\n    if (allItemsSelected) {\n      selectedItems.clear();\n    } else {\n      itemIds.forEach(itemId => selectedItems.add(itemId));\n    }\n    onSelectionChange(e, new Set(selectedItems));\n  };\n  const toggleItem = (e, itemId, selectedItems) => {\n    if (selectedItems.has(itemId)) {\n      selectedItems.delete(itemId);\n    } else {\n      selectedItems.add(itemId);\n    }\n    onSelectionChange(e, new Set(selectedItems));\n  };\n  const selectItem = (e, itemId, selectedItems) => {\n    selectedItems.add(itemId);\n    onSelectionChange(e, new Set(selectedItems));\n  };\n  const deselectItem = (e, itemId, selectedItems) => {\n    selectedItems.delete(itemId);\n    onSelectionChange(e, new Set(selectedItems));\n  };\n  const clearItems = e => {\n    onSelectionChange(e, new Set());\n  };\n  const isSelected = (itemId, selectedItems) => {\n    return selectedItems.has(itemId);\n  };\n  return {\n    toggleItem,\n    selectItem,\n    deselectItem,\n    clearItems,\n    isSelected,\n    toggleAllItems\n  };\n}\nfunction createSingleSelectionManager(onSelectionChange) {\n  const toggleItem = (e, itemId) => {\n    onSelectionChange(e, new Set([itemId]));\n  };\n  const clearItems = e => {\n    onSelectionChange(e, new Set());\n  };\n  const isSelected = (itemId, selectedItems) => {\n    return selectedItems.has(itemId);\n  };\n  const selectItem = (e, itemId) => {\n    onSelectionChange(e, new Set([itemId]));\n  };\n  return {\n    deselectItem: clearItems,\n    selectItem,\n    toggleAllItems: () => {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('[react-table]: `toggleAllItems` should not be used in single selection mode');\n      }\n      return undefined;\n    },\n    toggleItem,\n    clearItems,\n    isSelected\n  };\n}\n//# sourceMappingURL=selectionManager.js.map"],"names":["createSelectionManager","mode","onSelectionChange","undefined","managerFactory","createMultipleSelectionManager","createSingleSelectionManager","toggleAllItems","e","itemIds","selectedItems","allItemsSelected","every","itemId","has","clear","forEach","add","Set","toggleItem","delete","selectItem","deselectItem","clearItems","isSelected","process","env","NODE_ENV","Error"],"mappings":";;;;+BACgBA;;aAAAA;;;6DADO;AAChB,SAASA,uBAAuBC,IAAI,EAAEC,oBAAoB,IAAMC,SAAS,EAAE;IAChF,MAAMC,iBAAiBH,SAAS,gBAAgBI,iCAAiCC,4BAA4B;IAC7G,OAAOF,eAAeF;AACxB;AACA,SAASG,+BAA+BH,iBAAiB,EAAE;IACzD,MAAMK,iBAAiB,CAACC,GAAGC,SAASC,gBAAkB;QACpD,MAAMC,mBAAmBF,QAAQG,KAAK,CAACC,CAAAA,SAAUH,cAAcI,GAAG,CAACD;QACnE,IAAIF,kBAAkB;YACpBD,cAAcK,KAAK;QACrB,OAAO;YACLN,QAAQO,OAAO,CAACH,CAAAA,SAAUH,cAAcO,GAAG,CAACJ;QAC9C,CAAC;QACDX,kBAAkBM,GAAG,IAAIU,IAAIR;IAC/B;IACA,MAAMS,aAAa,CAACX,GAAGK,QAAQH,gBAAkB;QAC/C,IAAIA,cAAcI,GAAG,CAACD,SAAS;YAC7BH,cAAcU,MAAM,CAACP;QACvB,OAAO;YACLH,cAAcO,GAAG,CAACJ;QACpB,CAAC;QACDX,kBAAkBM,GAAG,IAAIU,IAAIR;IAC/B;IACA,MAAMW,aAAa,CAACb,GAAGK,QAAQH,gBAAkB;QAC/CA,cAAcO,GAAG,CAACJ;QAClBX,kBAAkBM,GAAG,IAAIU,IAAIR;IAC/B;IACA,MAAMY,eAAe,CAACd,GAAGK,QAAQH,gBAAkB;QACjDA,cAAcU,MAAM,CAACP;QACrBX,kBAAkBM,GAAG,IAAIU,IAAIR;IAC/B;IACA,MAAMa,aAAaf,CAAAA,IAAK;QACtBN,kBAAkBM,GAAG,IAAIU;IAC3B;IACA,MAAMM,aAAa,CAACX,QAAQH,gBAAkB;QAC5C,OAAOA,cAAcI,GAAG,CAACD;IAC3B;IACA,OAAO;QACLM;QACAE;QACAC;QACAC;QACAC;QACAjB;IACF;AACF;AACA,SAASD,6BAA6BJ,iBAAiB,EAAE;IACvD,MAAMiB,aAAa,CAACX,GAAGK,SAAW;QAChCX,kBAAkBM,GAAG,IAAIU,IAAI;YAACL;SAAO;IACvC;IACA,MAAMU,aAAaf,CAAAA,IAAK;QACtBN,kBAAkBM,GAAG,IAAIU;IAC3B;IACA,MAAMM,aAAa,CAACX,QAAQH,gBAAkB;QAC5C,OAAOA,cAAcI,GAAG,CAACD;IAC3B;IACA,MAAMQ,aAAa,CAACb,GAAGK,SAAW;QAChCX,kBAAkBM,GAAG,IAAIU,IAAI;YAACL;SAAO;IACvC;IACA,OAAO;QACLS,cAAcC;QACdF;QACAd,gBAAgB,IAAM;YACpB,IAAIkB,QAAQC,GAAG,CAACC,QAAQ,KAAK,cAAc;gBACzC,MAAM,IAAIC,MAAM,+EAA+E;YACjG,CAAC;YACD,OAAOzB;QACT;QACAgB;QACAI;QACAC;IACF;AACF,EACA,4CAA4C"}