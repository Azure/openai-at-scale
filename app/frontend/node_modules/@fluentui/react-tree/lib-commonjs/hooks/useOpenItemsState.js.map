{"version":3,"sources":["../../lib/hooks/useOpenItemsState.js"],"sourcesContent":["import { useControllableState, useEventCallback } from '@fluentui/react-utilities';\nimport * as React from 'react';\nimport { createImmutableSet, emptyImmutableSet } from '../utils/ImmutableSet';\nexport function useOpenItemsState(props) {\n  const [openItems, setOpenItems] = useControllableState({\n    state: React.useMemo(() => props.openItems && createImmutableSet(props.openItems), [props.openItems]),\n    defaultState: React.useMemo(() => props.defaultOpenItems && createImmutableSet(props.defaultOpenItems), [props.defaultOpenItems]),\n    initialState: emptyImmutableSet\n  });\n  const updateOpenItems = useEventCallback(data => setOpenItems(currentOpenItems => createNextOpenItems(data, currentOpenItems)));\n  return [openItems, updateOpenItems];\n}\nfunction createNextOpenItems(data, previousOpenItems) {\n  const id = data.target.id;\n  const previousOpenItemsHasId = previousOpenItems.has(id);\n  if (data.open ? previousOpenItemsHasId : !previousOpenItemsHasId) {\n    return previousOpenItems;\n  }\n  const nextOpenItems = createImmutableSet(previousOpenItems);\n  return data.open ? nextOpenItems.add(id) : nextOpenItems.delete(id);\n}\n//# sourceMappingURL=useOpenItemsState.js.map"],"names":["useOpenItemsState","props","openItems","setOpenItems","useControllableState","state","React","useMemo","createImmutableSet","defaultState","defaultOpenItems","initialState","emptyImmutableSet","updateOpenItems","useEventCallback","data","currentOpenItems","createNextOpenItems","previousOpenItems","id","target","previousOpenItemsHasId","has","open","nextOpenItems","add","delete"],"mappings":";;;;+BAGgBA;;aAAAA;;;gCAHuC;6DAChC;8BAC+B;AAC/C,SAASA,kBAAkBC,KAAK,EAAE;IACvC,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,oCAAoB,EAAC;QACrDC,OAAOC,OAAMC,OAAO,CAAC,IAAMN,MAAMC,SAAS,IAAIM,IAAAA,gCAAkB,EAACP,MAAMC,SAAS,GAAG;YAACD,MAAMC,SAAS;SAAC;QACpGO,cAAcH,OAAMC,OAAO,CAAC,IAAMN,MAAMS,gBAAgB,IAAIF,IAAAA,gCAAkB,EAACP,MAAMS,gBAAgB,GAAG;YAACT,MAAMS,gBAAgB;SAAC;QAChIC,cAAcC,+BAAiB;IACjC;IACA,MAAMC,kBAAkBC,IAAAA,gCAAgB,EAACC,CAAAA,OAAQZ,aAAaa,CAAAA,mBAAoBC,oBAAoBF,MAAMC;IAC5G,OAAO;QAACd;QAAWW;KAAgB;AACrC;AACA,SAASI,oBAAoBF,IAAI,EAAEG,iBAAiB,EAAE;IACpD,MAAMC,KAAKJ,KAAKK,MAAM,CAACD,EAAE;IACzB,MAAME,yBAAyBH,kBAAkBI,GAAG,CAACH;IACrD,IAAIJ,KAAKQ,IAAI,GAAGF,yBAAyB,CAACA,sBAAsB,EAAE;QAChE,OAAOH;IACT,CAAC;IACD,MAAMM,gBAAgBhB,IAAAA,gCAAkB,EAACU;IACzC,OAAOH,KAAKQ,IAAI,GAAGC,cAAcC,GAAG,CAACN,MAAMK,cAAcE,MAAM,CAACP,GAAG;AACrE,EACA,6CAA6C"}