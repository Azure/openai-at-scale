{"version":3,"file":"getSourceURLfromError.cjs.js","sources":["../../../../packages/core/src/devtools/getSourceURLfromError.ts"],"sourcesContent":["import { parseStackTraceLine } from './react-render-tracker/stackTrace';\n\nexport function getSourceURLfromError() {\n  const stacks = String(new Error().stack).split('\\n');\n  const userMakeStyleCallLine = findUserMakeStyleCallInStacks(stacks);\n  if (userMakeStyleCallLine === undefined) {\n    return undefined;\n  }\n\n  const result = parseStackTraceLine(userMakeStyleCallLine);\n  return result?.loc as string | undefined;\n}\n\nfunction findUserMakeStyleCallInStacks(stacks: string[]) {\n  for (let i = stacks.length - 1; i >= 0; --i) {\n    if (stacks[i].includes('at getSourceURLfromError')) {\n      // The error stacks look like:\n      //   getSourceURLfromError\n      //   makeStyles/__styles in griffel core\n      //   makeStyles/__styles in griffel react\n      //   user makeStyles call\n      return stacks[i + 3];\n    }\n  }\n  return undefined;\n}\n"],"names":["getSourceURLfromError","stacks","String","Error","stack","split","userMakeStyleCallLine","findUserMakeStyleCallInStacks","undefined","result","parseStackTraceLine","loc","i","length","includes"],"mappings":";;;;;;SAEgBA,qBAAqB;EACnC,MAAMC,MAAM,GAAGC,MAAM,CAAC,IAAIC,KAAK,EAAE,CAACC,KAAK,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC;EACpD,MAAMC,qBAAqB,GAAGC,6BAA6B,CAACN,MAAM,CAAC;EACnE,IAAIK,qBAAqB,KAAKE,SAAS,EAAE;IACvC,OAAOA,SAAS;;EAGlB,MAAMC,MAAM,GAAGC,8BAAmB,CAACJ,qBAAqB,CAAC;EACzD,OAAOG,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,GAAyB;AAC1C;AAEA,SAASJ,6BAA6B,CAACN,MAAgB;EACrD,KAAK,IAAIW,CAAC,GAAGX,MAAM,CAACY,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;IAC3C,IAAIX,MAAM,CAACW,CAAC,CAAC,CAACE,QAAQ,CAAC,0BAA0B,CAAC,EAAE;;;;;;MAMlD,OAAOb,MAAM,CAACW,CAAC,GAAG,CAAC,CAAC;;;EAGxB,OAAOJ,SAAS;AAClB;;;;"}