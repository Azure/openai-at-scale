{"version":3,"file":"injectDevTools.cjs.js","sources":["../../../../packages/core/src/devtools/injectDevTools.ts"],"sourcesContent":["import { SEQUENCE_PREFIX } from '../constants';\nimport { getDebugTree } from './getDebugTree';\n\nexport function injectDevTools(document: Document) {\n  const window = document.defaultView;\n  if (!window || window.__GRIFFEL_DEVTOOLS__) {\n    return;\n  }\n\n  const devtools: typeof window['__GRIFFEL_DEVTOOLS__'] = {\n    getInfo: (element: HTMLElement) => {\n      const rootDebugSequenceHash = Array.from(element.classList).find(className =>\n        className.startsWith(SEQUENCE_PREFIX),\n      );\n      if (rootDebugSequenceHash === undefined) {\n        return undefined;\n      }\n\n      return getDebugTree(rootDebugSequenceHash);\n    },\n  };\n\n  Object.defineProperty(window, '__GRIFFEL_DEVTOOLS__', {\n    configurable: false,\n    enumerable: false,\n    get() {\n      return devtools;\n    },\n  });\n}\n"],"names":["injectDevTools","document","window","defaultView","__GRIFFEL_DEVTOOLS__","devtools","getInfo","element","rootDebugSequenceHash","Array","from","classList","find","className","startsWith","SEQUENCE_PREFIX","undefined","getDebugTree","Object","defineProperty","configurable","enumerable","get"],"mappings":";;;;;;;SAGgBA,cAAc,CAACC,QAAkB;EAC/C,MAAMC,MAAM,GAAGD,QAAQ,CAACE,WAAW;EACnC,IAAI,CAACD,MAAM,IAAIA,MAAM,CAACE,oBAAoB,EAAE;IAC1C;;EAGF,MAAMC,QAAQ,GAA0C;IACtDC,OAAO,EAAGC,OAAoB;MAC5B,MAAMC,qBAAqB,GAAGC,KAAK,CAACC,IAAI,CAACH,OAAO,CAACI,SAAS,CAAC,CAACC,IAAI,CAACC,SAAS,IACxEA,SAAS,CAACC,UAAU,CAACC,yBAAe,CAAC,CACtC;MACD,IAAIP,qBAAqB,KAAKQ,SAAS,EAAE;QACvC,OAAOA,SAAS;;MAGlB,OAAOC,yBAAY,CAACT,qBAAqB,CAAC;;GAE7C;EAEDU,MAAM,CAACC,cAAc,CAACjB,MAAM,EAAE,sBAAsB,EAAE;IACpDkB,YAAY,EAAE,KAAK;IACnBC,UAAU,EAAE,KAAK;IACjBC,GAAG;MACD,OAAOjB,QAAQ;;GAElB,CAAC;AACJ;;;;"}