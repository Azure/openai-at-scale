{"version":3,"file":"store.cjs.js","sources":["../../../../packages/core/src/devtools/store.ts"],"sourcesContent":["import type { SequenceHash } from '../types';\nimport { SEQUENCE_PREFIX, SEQUENCE_SIZE } from '../constants';\nimport { mergeClassesCachedResults } from '../mergeClasses';\n\nconst sequenceDetails: Record<SequenceHash, { slotName: string; sourceURL?: string }> = {};\n\nconst cssRules = new Set<string>();\n\nexport const debugData = {\n  getChildrenSequences: (debugSequenceHash: SequenceHash): SequenceHash[] => {\n    const key = Object.keys(mergeClassesCachedResults).find(key =>\n      mergeClassesCachedResults[key].startsWith(debugSequenceHash),\n    );\n\n    if (key) {\n      // key of the mergeClasses cache contains merge order\n      return key\n        .split(SEQUENCE_PREFIX)\n        .filter(sequence => sequence.length)\n        .map(sequence => SEQUENCE_PREFIX + sequence);\n    }\n\n    return [];\n  },\n\n  addCSSRule: (rule: string) => {\n    cssRules.add(rule);\n  },\n  addSequenceDetails: <Slots extends string | number>(\n    classNamesForSlots: Record<Slots, string>,\n    sourceURL?: string,\n  ) => {\n    Object.entries<string>(classNamesForSlots).forEach(([slotName, sequenceHash]) => {\n      sequenceDetails[sequenceHash.substring(0, SEQUENCE_SIZE)] = { slotName, sourceURL };\n    });\n  },\n\n  getCSSRules: (): string[] => {\n    return Array.from(cssRules);\n  },\n  getSequenceDetails: (sequenceHash: SequenceHash): typeof sequenceDetails[string] | undefined => {\n    return sequenceDetails[sequenceHash];\n  },\n};\n"],"names":["sequenceDetails","cssRules","Set","debugData","getChildrenSequences","debugSequenceHash","key","Object","keys","mergeClassesCachedResults","find","startsWith","split","SEQUENCE_PREFIX","filter","sequence","length","map","addCSSRule","rule","add","addSequenceDetails","classNamesForSlots","sourceURL","entries","forEach","slotName","sequenceHash","substring","SEQUENCE_SIZE","getCSSRules","Array","from","getSequenceDetails"],"mappings":";;;;;;;AAIA,MAAMA,eAAe,GAAmE,EAAE;AAE1F,MAAMC,QAAQ,gBAAG,IAAIC,GAAG,EAAU;MAErBC,SAAS,GAAG;EACvBC,oBAAoB,EAAGC,iBAA+B;IACpD,MAAMC,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACC,sCAAyB,CAAC,CAACC,IAAI,CAACJ,GAAG,IACzDG,sCAAyB,CAACH,GAAG,CAAC,CAACK,UAAU,CAACN,iBAAiB,CAAC,CAC7D;IAED,IAAIC,GAAG,EAAE;;MAEP,OAAOA,GAAG,CACPM,KAAK,CAACC,yBAAe,CAAC,CACtBC,MAAM,CAACC,QAAQ,IAAIA,QAAQ,CAACC,MAAM,CAAC,CACnCC,GAAG,CAACF,QAAQ,IAAIF,yBAAe,GAAGE,QAAQ,CAAC;;IAGhD,OAAO,EAAE;GACV;EAEDG,UAAU,EAAGC,IAAY;IACvBlB,QAAQ,CAACmB,GAAG,CAACD,IAAI,CAAC;GACnB;EACDE,kBAAkB,EAAE,CAClBC,kBAAyC,EACzCC,SAAkB;IAElBhB,MAAM,CAACiB,OAAO,CAASF,kBAAkB,CAAC,CAACG,OAAO,CAAC,CAAC,CAACC,QAAQ,EAAEC,YAAY,CAAC;MAC1E3B,eAAe,CAAC2B,YAAY,CAACC,SAAS,CAAC,CAAC,EAAEC,uBAAa,CAAC,CAAC,GAAG;QAAEH,QAAQ;QAAEH;OAAW;KACpF,CAAC;GACH;EAEDO,WAAW,EAAE;IACX,OAAOC,KAAK,CAACC,IAAI,CAAC/B,QAAQ,CAAC;GAC5B;EACDgC,kBAAkB,EAAGN,YAA0B;IAC7C,OAAO3B,eAAe,CAAC2B,YAAY,CAAC;;;;;;"}