{"version":3,"file":"makeResetStyles.cjs.js","sources":["../../../packages/core/src/makeResetStyles.ts"],"sourcesContent":["import { DEBUG_RESET_CLASSES } from './constants';\nimport { resolveResetStyleRules } from './runtime/resolveResetStyleRules';\nimport type { GriffelResetStyle, MakeStylesOptions } from './types';\n\nexport function makeResetStyles(styles: GriffelResetStyle) {\n  const insertionCache: Record<string, boolean> = {};\n\n  let ltrClassName: string | null = null;\n  let rtlClassName: string | null = null;\n\n  let cssRules: string[] | null = null;\n\n  function computeClassName(options: MakeStylesOptions): string {\n    const { dir, renderer } = options;\n\n    if (ltrClassName === null) {\n      [ltrClassName, rtlClassName, cssRules] = resolveResetStyleRules(styles);\n    }\n\n    const isLTR = dir === 'ltr';\n    // As RTL classes are different they should have a different cache key for insertion\n    const rendererId = isLTR ? renderer.id : renderer.id + 'r';\n\n    if (insertionCache[rendererId] === undefined) {\n      renderer.insertCSSRules({ r: cssRules! });\n      insertionCache[rendererId] = true;\n    }\n\n    const className = isLTR ? ltrClassName : rtlClassName || ltrClassName;\n\n    if (process.env.NODE_ENV !== 'production') {\n      DEBUG_RESET_CLASSES[className] = 1;\n    }\n\n    return className;\n  }\n\n  return computeClassName;\n}\n"],"names":["makeResetStyles","styles","insertionCache","ltrClassName","rtlClassName","cssRules","computeClassName","options","dir","renderer","resolveResetStyleRules","isLTR","rendererId","id","undefined","insertCSSRules","r","className","process","env","NODE_ENV","DEBUG_RESET_CLASSES"],"mappings":";;;;;;;SAIgBA,eAAe,CAACC,MAAyB;EACvD,MAAMC,cAAc,GAA4B,EAAE;EAElD,IAAIC,YAAY,GAAkB,IAAI;EACtC,IAAIC,YAAY,GAAkB,IAAI;EAEtC,IAAIC,QAAQ,GAAoB,IAAI;EAEpC,SAASC,gBAAgB,CAACC,OAA0B;IAClD,MAAM;MAAEC,GAAG;MAAEC;KAAU,GAAGF,OAAO;IAEjC,IAAIJ,YAAY,KAAK,IAAI,EAAE;MACzB,CAACA,YAAY,EAAEC,YAAY,EAAEC,QAAQ,CAAC,GAAGK,6CAAsB,CAACT,MAAM,CAAC;;IAGzE,MAAMU,KAAK,GAAGH,GAAG,KAAK,KAAK;;IAE3B,MAAMI,UAAU,GAAGD,KAAK,GAAGF,QAAQ,CAACI,EAAE,GAAGJ,QAAQ,CAACI,EAAE,GAAG,GAAG;IAE1D,IAAIX,cAAc,CAACU,UAAU,CAAC,KAAKE,SAAS,EAAE;MAC5CL,QAAQ,CAACM,cAAc,CAAC;QAAEC,CAAC,EAAEX;OAAW,CAAC;MACzCH,cAAc,CAACU,UAAU,CAAC,GAAG,IAAI;;IAGnC,MAAMK,SAAS,GAAGN,KAAK,GAAGR,YAAY,GAAGC,YAAY,IAAID,YAAY;IAErE,IAAIe,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACzCC,6BAAmB,CAACJ,SAAS,CAAC,GAAG,CAAC;;IAGpC,OAAOA,SAAS;;EAGlB,OAAOX,gBAAgB;AACzB;;;;"}